import logging, logging.handlers, logging.config
import os
import toml
from search import fetch_rss_link
from parse import fetch_rss_data
from config import Config

main_logger = logging.getLogger(__name__) 

class Logger:
    def __init__(self, log_file) -> None:
        self.log_file = log_file
        self.logger = logging.getLogger('Logger')
        self.logger.info('creating an instance of Logger')
        self.setup_logging()

    def setup_logging(self) -> None:
        with open(file= self.log_file, mode = 'r') as f_in:
            config = toml.load(f_in)
        logging.config.dictConfig(config)

def main() -> None:
    main_logger.info(f"__file__ has started")
    logger = Logger("loggerconfig.toml")
    config = Config("config.toml")
    links: any = config['bot']['urls']['websites']
    fetch_rss_link(links)
    fetch_rss_data(fetch_rss_data())

if __name__=="__main__":
    main()












if __name__ == "__main__":
    main()
